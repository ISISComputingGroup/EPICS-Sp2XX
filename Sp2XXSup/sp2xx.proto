# SP2XX protocol file.

OutTerminator = CR LF;
InTerminator = "";

return = CR LF;
stopped = $return ":";
infusing = $return ">";
withdrawing = $return "<";

error {
	in $return "E";
	out "error?";
	in $return "%(\$1)i" $return;
}

run {
    out "run";
	in "%{" $infusing "|" $withdrawing "}";
}

run_status {
	out "run?";
	in "%{" $stopped "|" $infusing "|" $withdrawing "}";
	@mismatch { error; }
}

stop {
	out "stop";
	in $stopped;
}

